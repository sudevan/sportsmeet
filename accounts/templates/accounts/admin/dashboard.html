{% extends 'accounts/dashboards/base_dashboard.html' %}

{% block title %}Admin Dashboard | Sports Meet{% endblock %}

{% block page_title %}ğŸ›  Admin Dashboard{% endblock %}
{% block page_subtitle %}Manage meets, events, and assignments{% endblock %}

{% block content %}
<div class="dashboard-grid">

    <!-- ADMIN QUICK ACTIONS -->
    <div class="glass-card">
        <div class="card-header">
            <h3 class="card-title">âš¡ Admin Actions</h3>
        </div>

        <!-- Custom UI (future-ready) -->
        <a href="{% url 'accounts:admin_create_meet' %}" class="btn-action">
            â• Create Meet
        </a>

        <a href="{% url 'accounts:admin_create_event' %}" class="btn-action btn-outline">
            â• Create Event
        </a>

        <!-- Django Admin (safe fallback) -->
        <a href="/django-admin/meet/meet/" class="btn-action btn-outline">
            ğŸ—‚ Manage Meets (Admin)
        </a>

        <a href="/django-admin/meet/event/" class="btn-action btn-outline">
            ğŸ—‚ Manage Events (Admin)
        </a>
    </div>

    <!-- MEETS LIST -->
    <div class="glass-card" style="grid-column: span 2;">
        <div class="card-header">
            <h3 class="card-title">ğŸ† All Meets</h3>
        </div>

        <ul class="list">
            {% for meet in meets %}
            <li class="list-item" style="flex-direction: column; align-items: flex-start;">
                <div style="width:100%; display:flex; justify-content:space-between;">
                    <div>
                        <strong>{{ meet.name }}</strong>
                        <p style="font-size:0.85rem; color:var(--text-secondary);">
                            {{ meet.start_date }} â€“ {{ meet.end_date }}
                        </p>
                    </div>
                    <span class="role-badge">{{ meet.status }}</span>
                </div>

                <div style="margin-top:10px;">
                    <a href="{% url 'accounts:admin_meet_event_assign' meet.id %}"
                       class="btn-action">
                        â• Assign Events
                    </a>
                </div>
            </li>
            {% empty %}
            <li class="list-item">No meets created</li>
            {% endfor %}
        </ul>
    </div>

</div>
{% endblock %}
